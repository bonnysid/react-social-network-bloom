(this.webpackJsonpbloom=this.webpackJsonpbloom||[]).push([[3],{306:function(t,e,a){t.exports={content:"Description_content__ImCZf",name:"Description_name__N_xn_",status:"Description_status__1GC3R",header:"Description_header__2rZQX",item:"Description_item__2Cdvf",input:"Description_input__1Wb6P"}},308:function(t,e,a){t.exports={content:"Profile_content__35QMj"}},309:function(t,e,a){t.exports={content:"Avatar_content__QdJAt",image:"Avatar_image__1dtvG",btn:"Avatar_btn__3NKZF"}},310:function(t,e,a){t.exports={input:"InputFile_input__2QLS3",btn:"InputFile_btn__E-fRM"}},311:function(t,e,a){t.exports={content:"SocialLink_content__23vnS"}},312:function(t,e,a){t.exports={content:"Post_content__2cQLv",author:"Post_author__3CMaQ",header__info:"Post_header__info__1hyHM",date:"Post_date__3bmS4",header:"Post_header__n361m",avatar:"Post_avatar__PlJYs",image:"Post_image__2Rqce",comment:"Post_comment__2fmfm",footer:"Post_footer__qLEuI",icon:"Post_icon__8uR5v",count:"Post_count__zE9jZ"}},314:function(t,e,a){"use strict";a.r(e);var n=a(19),s=a(23),c=a(25),o=a(24),r=a(0),i=a(1),u=a.n(i),l=a(12),j=a(308),h=a.n(j),d=a(309),p=a.n(d),m=a(80),b=a(310),f=a.n(b),_=function(t){var e=t.onClick,a=t.onChange,n=t.placeholder;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{onChange:a,id:"file",type:"file",className:f.a.input}),Object(r.jsx)("label",{onClick:e,htmlFor:"file",className:"btn ".concat(f.a.btn),children:n})]})},O=function(t){var e=t.url,a=t.isOwner,n=t.savePhoto;return Object(r.jsxs)("section",{className:"block",children:[Object(r.jsx)("aside",{className:p.a.content,children:Object(r.jsx)("img",{className:p.a.image,src:e||m.a,alt:"AVATAR"})}),a&&Object(r.jsx)("aside",{className:p.a.btn_block,children:Object(r.jsx)(_,{onChange:n,placeholder:"Change photo"})})]})},x=a(306),v=a.n(x),g=a(311),N=a.n(g),P=a(79),k=function(t){var e=t.width,a=void 0===e?"25px":e,n=t.height,s=void 0===n?"25px":n,c=t.urlId,o=t.fullUrl,i=t.hoverTitle,u=t.link;return Object(r.jsx)("a",{className:N.a.content,href:"https://".concat(u),target:"_blank",title:i,children:Object(r.jsx)("svg",{width:a,height:s,children:Object(r.jsx)("use",{xlinkHref:o||"".concat(P.a,"#").concat(c)})})})};var S=a(123);function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,s=!1,c=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(i){s=!0,c=i}finally{try{n||null==r.return||r.return()}finally{if(s)throw c}}return a}}(t,e)||Object(S.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(t){var e=y(Object(i.useState)(!1),2),a=e[0],n=e[1],s=y(Object(i.useState)(t.status),2),c=s[0],o=s[1];Object(i.useEffect)((function(){o(t.status)}),[t.status]);var u=function(){n(!0)};return Object(r.jsx)("div",{children:a?Object(r.jsx)("input",{className:v.a.input,onChange:function(t){return function(t){o(t.currentTarget.value)}(t)},autoFocus:!0,onBlur:function(){n(!1),t.updateUserStatus(c)},value:c}):Object(r.jsx)("p",{onTouchEnd:u,onDoubleClick:u,children:t.status||"Click to change it"})})},w=function(t){var e=t.name,a=t.status,n=t.contacts,s=(t.about,t.updateUserStatus),c=[];for(var o in n)n[o]&&c.push(Object(r.jsx)(k,{link:n[o],urlId:o,hoverTitle:o,width:"35px",height:"35px"},o));return Object(r.jsxs)("main",{className:"".concat(v.a.content," block"),children:[Object(r.jsxs)("div",{className:v.a.header,children:[Object(r.jsx)("h1",{className:v.a.name,children:e}),Object(r.jsx)(I,{status:a,updateUserStatus:s}),Object(r.jsx)("div",{className:"underline"})]}),Object(r.jsx)("section",{className:v.a.links,children:c})]})},C=a(42),U=a.n(C),D=a(312),A=a.n(D),F=a(48),Q=function(t){var e=t.author,a=t.comment,n=t.likeCount,s=new Date;return Object(r.jsxs)("main",{className:"".concat(A.a.content," block"),children:[Object(r.jsxs)("div",{className:A.a.header,children:[Object(r.jsx)("div",{className:A.a.avatar,children:Object(r.jsx)("img",{className:A.a.image,src:"https://sun9-52.userapi.com/VbuS5diiKVWIdt37_zJ5Qdj99TQclDM8IfHkPA/VpKVDBLkFJ8.jpg",alt:"avatar"})}),Object(r.jsxs)("div",{className:A.a.header__info,children:[Object(r.jsx)("h2",{className:A.a.author,children:e}),Object(r.jsx)("time",{className:A.a.date,children:s.toDateString()})]})]}),Object(r.jsx)("p",{className:A.a.comment,children:a}),Object(r.jsx)("div",{className:"underline"}),Object(r.jsxs)("section",{className:A.a.footer,children:[Object(r.jsx)(F.a,{className:A.a.icon,urlId:"like"}),Object(r.jsx)("p",{className:A.a.count,children:n})]})]})},T=a(113),E=a(145),J=a(146),M=a(43),L=a(124),R=Object(M.a)(200),V=Object(J.a)({form:"posts"})((function(t){return Object(r.jsxs)("form",{onSubmit:t.handleSubmit,className:U.a.block,children:[Object(r.jsx)("h1",{className:U.a.title,children:"Posts"}),Object(r.jsx)(E.a,{component:L.a,placeholder:"Input your text",rows:5,isresize:!0,name:"message",validate:[M.b,R]}),Object(r.jsx)(E.a,{name:"file",component:"input",type:"file",id:"post-1",className:U.a.file,accept:"image/jpeg,image/png,image/gif,image/heic,image/heif,image/webp"}),Object(r.jsx)("label",{htmlFor:"post-1",className:"".concat(U.a.file_btn),children:Object(r.jsx)(F.a,{width:"25px",height:"25px",className:U.a.icon,urlid:"add"})}),Object(r.jsx)("button",{className:"".concat(U.a.btn," btn"),children:"Post"})]})})),Z=a(55),z=u.a.memo((function(t){var e=t.posts,a=t.addPost,n=t.loggedUser,s=t.reset;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("section",{className:"".concat(U.a.content," block"),children:Object(r.jsx)(V,{onSubmit:function(t){var e=t.message;s("posts"),a(n,e)}})}),Object(r.jsx)("section",{className:U.a.posts,children:e})]})})),H=Object(l.b)((function(t){return{loggedUser:t.auth.loggedUser,posts:t.profilePage.posts.map((function(t){return Object(r.jsx)(Q,{id:t.id,author:t.author,comment:t.comment,likeCount:t.likeCount},t.id)}))}}),{addPost:T.a,reset:Z.a})(z),K=function(t){var e=t.userInfo;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("main",{className:h.a.content,children:[Object(r.jsx)(O,{savePhoto:t.savePhoto,isOwner:t.isOwner,url:e.photos.large}),Object(r.jsx)(w,{name:e.fullName,status:t.status,contacts:e.contacts,updateUserStatus:t.updateUserStatus}),Object(r.jsx)(H,{})]})})},q=a(8),B=a(27),G=a(7),W=a(83),X=function(t){Object(c.a)(a,t);var e=Object(o.a)(a);function a(){var t;Object(n.a)(this,a);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).getProfileInfo=function(){var e=t.props.match.params.id?t.props.match.params.id:t.props.yourId;e||t.props.history.push("/login"),t.props.getUserInfo(e),t.props.getUserStatus(e)},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getProfileInfo()}},{key:"componentDidUpdate",value:function(t,e,a){this.props.match.params.id===this.props.yourId&&this.getProfileInfo()}},{key:"render",value:function(){return Object.keys(this.props.userInfo).length?Object(r.jsx)(K,{savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.id,updateUserStatus:this.props.updateUserStatus,userInfo:this.props.userInfo,status:this.props.userStatus}):Object(r.jsx)(B.a,{})}}]),a}(u.a.Component);e.default=Object(G.d)(W.a,q.f,Object(l.b)((function(t){return{userInfo:t.profilePage.userPageInfo,yourId:t.auth.userId,userStatus:t.profilePage.userStatus}}),{getUserInfo:T.c,getUserStatus:T.d,updateUserStatus:T.f,savePhoto:T.e}))(X)}}]);
//# sourceMappingURL=3.1985b13f.chunk.js.map
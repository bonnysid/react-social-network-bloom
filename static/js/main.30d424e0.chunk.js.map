{"version":3,"sources":["modules/HelpfulComponents/AvatarLower/AvatarLower.module.css","modules/Dialogs/Dialogs.module.css","modules/HelpfulComponents/Textarea/Textarea.module.css","modules/Header/Header.module.css","modules/HelpfulComponents/AuthBlock/AuthBlock.module.css","modules/HelpfulComponents/Preloader/Preloader.module.css","redux/profileReducer.js","modules/HelpfulComponents/Textarea/Textarea.js","API/API.js","modules/Users/User/User.module.css","assets/img/preloader.svg","modules/HelpfulComponents/Preloader/Preloader.js","modules/HelpfulComponents/Preloader/index.js","modules/HelpfulComponents/SvgLink/index.js","modules/HelpfulComponents/SvgLink/SvgLink.js","assets/img/logo.svg","modules/Navbar/index.js","modules/Navbar/Navbar.js","modules/HelpfulComponents/AvatarLower/index.js","modules/HelpfulComponents/AvatarLower/AvatarLower.js","modules/Dialogs/Dialog/index.js","modules/Dialogs/Dialog/Dialog.js","modules/Dialogs/Messages/Message/index.js","modules/Dialogs/Messages/Message/Message.js","redux/dialogsReducer.js","modules/Dialogs/Messages/MessageForm.js","modules/Dialogs/Messages/index.js","modules/Dialogs/Messages/Messages.js","modules/Dialogs/index.js","modules/Dialogs/Dialogs.js","modules/News/index.js","modules/News/News.js","modules/Users/User/index.js","modules/Users/User/User.js","modules/HelpfulComponents/AuthBlock/AuthBlock.js","modules/HelpfulComponents/AuthBlock/AuthBlockContainer.js","modules/Header/Header.js","modules/Header/index.js","modules/Users/Users.js","redux/usersReducer.js","redux/usersSelectors.js","modules/Users/UsersContainer.js","modules/HelpfulComponents/Input/Input.js","modules/Login/LoginForm.js","modules/Login/Login.js","modules/StartPage/StartPage.js","App.js","redux/reduxStore.js","index.js","redux/navbarReducer.js","hoc/withAuthRedirect.js","redux/authReducer.js","modules/Profile/Posts/Posts.module.css","utils/validators/validators.js","modules/Dialogs/Dialog/Dialog.module.css","modules/HelpfulComponents/SvgItem/SvgItem.js","modules/HelpfulComponents/SvgItem/index.js","modules/Dialogs/Messages/Messages.module.css","modules/Users/Users.module.css","redux/appReducer.js","modules/Login/Login.module.css","modules/Navbar/Navbar.module.css","modules/HelpfulComponents/SvgLink/SvgLink.module.css","modules/Dialogs/Messages/Message/Message.module.css","assets/img/icons.svg","assets/img/user.png","hoc/withSuspense.js"],"names":["module","exports","ADD_POST","DELETE_POST","SET_USER_PAGE_INFO","TOGGLE_FETCHING","SET_USER_STATUS","SET_PHOTOS","initialState","posts","id","author","comment","likeCount","userPageInfo","isFetching","userStatus","addPost","authorInfo","message","type","toggleFetching","setUserStatus","status","getUserInfo","userId","dispatch","a","profileAPI","getProfileInfo","data","setHeaderTitle","fullName","getUserStatus","userID","updateUserStatus","resultCode","savePhoto","photo","photos","profileReducer","state","action","post","length","name","newPostText","forEach","item","index","postId","splice","Textarea","input","meta","props","hasError","touched","error","className","s","text","isresize","nonResize","API","this","_instance","axios","create","withCredentials","baseURL","key","UsersAPI","page","pageSize","get","then","response","delete","ProfileAPI","put","form","FormData","append","headers","AuthAPI","email","password","rememberMe","config","usersAPI","authAPI","Preloader","container","image","src","preloader","SvgLink","title","link","isExit","svgClassName","to","asideBlock","exit","icon","exit_icon","xlinkHref","icons","toLowerCase","replace","Navbar","connect","items","navbar","menuItems","logout","menuElements","map","onClick","block","logo","logo__img","alt","main__nav","urlId","AvatarLower","url","avatarBlock","defaultAvatar","Dialog","avatarLink","lastMsg","time","isActive","content","active","activeClassName","msg","Message","ADD_MESSAGE","SELECT_DIALOG","dialogs","user","Date","toTimeString","substr","messages","dialogsReducer","stateCopy","activeDialog","find","dialog","dialogMessages","push","newMessageText","d","dialogId","maxLength200","maxLengthValidateCreator","reduxForm","onSubmit","handleSubmit","block_line","Field","component","placeholder","rows","validate","required","file","accept","htmlFor","file_btn","SvgItem","width","height","send_button_block","send_button","Messages","selectedDialog","dialogsPage","dialogName","loggedUser","auth","addMessage","header","input__msg","Dialogs","compose","withAuthRedirect","people","News","User","followed","follow","unfollow","followingProcess","userPng","btn","sendBtn","svg","disabled","some","addBtn","svgRed","AuthBlock","style","left","right","top","bottom","isAuth","login","loginRequest","AuthBlockContainer","React","Component","headerTitle","withRouter","location","pathname","Header","Users","usersElements","users","u","small","search","friendList","buttonContainer","onLoadUsers","button","all","searchText","totalCountUsers","FOLLOW","UNFOLLOW","SET_USERS","CHANGE_SEARCH_TEXT","SET_TOTAL_COUNT_USERS","SET_PAGE","RESET_USERS","TOGGLE_FOLLOWING_PROCESS","followSuccess","unfollowSuccess","toggleFollowingProcess","isFollowing","followUnfollowFlow","apiMethod","actionCreator","usersReducer","usersData","count","filter","getUsers","createSelector","getPageSize","getTotalCountUsers","totalCount","getPage","getIsFetching","getFollowingProcess","UsersContainer","setPage","resetUsers","followUser","bind","unfollowUser","onSearchChange","currentPage","Input","maxLength50","isRemember","StartPage","Settings","lazy","ProfileContainer","Music","App","initializeApp","initialized","path","render","exact","withSuspense","app","reducers","combineReducers","appReducer","profilePage","navbarReducer","authReducer","formReducer","store","createStore","applyMiddleware","thunkMiddleware","rootElement","document","getElementById","ReactDOM","basename","process","SET_HEADER_TITLE","mapStateToProps","SET_AUTH_USER_INFO","SET_LOGGED_USER","setAuthUserInfo","getAuth","stopSubmit","_error","value","undefined","fillColor","fullUrl","fill","INITIALIZED_SUCCESSFUL","Promise","Suspense","fallback"],"mappings":"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","file":"static/js/main.30d424e0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarBlock\":\"AvatarLower_avatarBlock__Q9jCd\",\"image\":\"AvatarLower_image__317u1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialogs_content__1zdGL\",\"title\":\"Dialogs_title__2nIL1\",\"people\":\"Dialogs_people__2S-16\",\"messages\":\"Dialogs_messages__1Q2WY\",\"block\":\"Dialogs_block__1MErw\",\"block_line\":\"Dialogs_block_line__2slq2\",\"send_button_block\":\"Dialogs_send_button_block__MzE2P\",\"text\":\"Dialogs_text__1Z0hm\",\"notRes\":\"Dialogs_notRes__2ftf4\",\"btn\":\"Dialogs_btn__3R5NR\",\"file\":\"Dialogs_file__3Xpge\",\"file_btn\":\"Dialogs_file_btn__1PdU9\",\"icon\":\"Dialogs_icon__3s8Yg\",\"send_button\":\"Dialogs_send_button__2BzeI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Textarea_text__2oo2s\",\"nonResize\":\"Textarea_nonResize__29IK2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2rcHP\",\"title\":\"Header_title__JYNK0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AuthBlock_container__2knMQ\",\"login\":\"AuthBlock_login__1YwgL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Preloader_container__22FX2\",\"image\":\"Preloader_image__1RBiE\"};","import {profileAPI} from \"../API/API\";\r\nimport {setHeaderTitle} from \"./navbarReducer\";\r\n\r\nconst ADD_POST = 'app/profile/ADD_POST';\r\nconst DELETE_POST = 'app/profile/DELETE_POST';\r\nconst SET_USER_PAGE_INFO = 'app/profile/SET_USER_PAGE_INFO';\r\nconst TOGGLE_FETCHING = 'app/profile/TOGGLE_FETCHING';\r\nconst SET_USER_STATUS = 'app/profile/SET_USER_STATUS';\r\nconst SET_PHOTOS = 'app/profile/SET_PHOTOS';\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            author: 'Nikita Bortsov',\r\n            comment: 'Lorem Ipsum - это текст-\"рыба\", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной \"рыбой\" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.',\r\n            likeCount: 90\r\n        },\r\n        {id: 2, author: 'Nikita Bortsov', comment: 'First post!', likeCount: 5}\r\n    ],\r\n    userPageInfo: {},\r\n    isFetching: false,\r\n    userStatus: ''\r\n};\r\n\r\nexport const addPost = (authorInfo, message) => ({type: ADD_POST, authorInfo, message});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserPageInfo = (userPageInfo) => ({type: SET_USER_PAGE_INFO, userPageInfo});\r\nexport const toggleFetching = (isFetching) => ({type: TOGGLE_FETCHING, isFetching});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const setPhotos = (photos) => ({type: SET_PHOTOS, photos});\r\n\r\nexport const getUserInfo = (userId) => async (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    const data = await profileAPI.getProfileInfo(userId)\r\n\r\n    dispatch(toggleFetching(false));\r\n    dispatch(setUserPageInfo(data));\r\n    dispatch(setHeaderTitle(data.fullName))\r\n\r\n}\r\n\r\nexport const getUserStatus = (userID) => async (dispatch) => {\r\n    const data = await profileAPI.getUserStatus(userID)\r\n\r\n    dispatch(setUserStatus(data))\r\n\r\n}\r\n\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    const data = await profileAPI.updateUserStatus(status)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(toggleFetching(false));\r\n        dispatch(setUserStatus(status));\r\n    }\r\n\r\n}\r\n\r\nexport const savePhoto = (photo) => async (dispatch) => {\r\n    const data = await profileAPI.savePhoto(photo);\r\n\r\n    dispatch(setPhotos(data.data.photos));\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_POST:\r\n            const post = {\r\n                id: state.posts[state.posts.length - 1].id++,\r\n                author: action.authorInfo.name,\r\n                comment: action.message,\r\n                likeCount: 0\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, post],\r\n                newPostText: ''\r\n            };\r\n\r\n        case DELETE_POST:\r\n            state.posts.forEach((item, index) => {\r\n                if (item.id === action.postId) state.posts.splice(index, 1);\r\n            });\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts]\r\n            };\r\n        case SET_USER_PAGE_INFO:\r\n            return {\r\n                ...state,\r\n                userPageInfo: action.userPageInfo\r\n            }\r\n        case TOGGLE_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                userStatus: action.status\r\n            }\r\n        case SET_PHOTOS:\r\n            return {\r\n                ...state,\r\n                userPageInfo: {...state.userPageInfo, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from 'react';\r\nimport s from './Textarea.module.css'\r\n\r\nconst Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <>\r\n            <textarea {...input} {...props} className={`${s.text} ${hasError ? 'error' : ''} ${props.isresize ? '' : s.nonResize}`}/>\r\n            {/*{hasError && <span className={'error-text'}>{meta.error}</span>}*/}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Textarea;","import axios from \"axios\";\r\n\r\nclass API {\r\n    constructor(props) {\r\n        this._instance = axios.create({\r\n            withCredentials: props.withCredentials,\r\n            baseURL: props.baseURL,\r\n            \"API-KEY\": props.key\r\n        })\r\n\r\n    }\r\n}\r\n\r\nclass UsersAPI extends API {\r\n    getUsers(page = 1, pageSize = 10) {\r\n        return this._instance.get(`users?page=${page}&count=${pageSize}`).then(response => response.data);\r\n    }\r\n\r\n    followUser(id) {\r\n        return this._instance.post( `follow/${id}`).then(response => response.data);\r\n    }\r\n\r\n    unfollowUser(id) {\r\n        return this._instance.delete( `follow/${id}`).then(response => response.data);\r\n    }\r\n}\r\n\r\nclass ProfileAPI extends API {\r\n\r\n    getProfileInfo(id) {\r\n        return this._instance.get(`profile/${id}`).then(response => response.data);\r\n    }\r\n\r\n    getUserStatus(id) {\r\n        return this._instance.get(`profile/status/${id}`).then(response => response.data);\r\n    }\r\n\r\n    updateUserStatus(status) {\r\n        return this._instance.put(`profile/status`, {status});\r\n    }\r\n\r\n    savePhoto(photo) {\r\n        const form = new FormData();\r\n        form.append('image', photo);\r\n        return this._instance.put('profile/photo', form, {\r\n            headers: {\r\n                'Content-Type' : 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nclass AuthAPI extends API {\r\n    getAuth() {\r\n        return this._instance.get('auth/me').then(response => response.data);\r\n    }\r\n\r\n    login(email, password, rememberMe = false) {\r\n        return this._instance.post('auth/login', {email, password, rememberMe}).then(response => response.data);\r\n    }\r\n\r\n    logout() {\r\n        return this._instance.delete('auth/login').then(response => response.data);\r\n    }\r\n}\r\n\r\nconst config = {\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    key: \"eca71e62-40e5-487f-ace5-c7bb6153f79f\"\r\n}\r\n\r\nexport const usersAPI = new UsersAPI(config);\r\nexport const authAPI = new AuthAPI(config);\r\nexport const profileAPI = new ProfileAPI(config);\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"User_block__3oMCW\",\"name\":\"User_name__1v69t\",\"avatar\":\"User_avatar__1fZcW\",\"addBtn\":\"User_addBtn__1_bm4\",\"btn\":\"User_btn__3nlBI\",\"status\":\"User_status__3OKbw\",\"sendBtn\":\"User_sendBtn__143PM\",\"svg\":\"User_svg__11V02\",\"svgRed\":\"User_svgRed__3Of7u\"};","export default __webpack_public_path__ + \"static/media/preloader.48cdd81c.svg\";","import React from 'react';\r\nimport preloader from '../../../assets/img/preloader.svg';\r\nimport s from './Preloader.module.css';\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={s.container}>\r\n            <img className={s.image} src={preloader}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Preloader;","import Preloader from './Preloader';\r\nexport default Preloader;","import SvgLink from './SvgLink';\r\nexport default SvgLink;","import React from 'react';\r\nimport s from './SvgLink.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport icons from '../../../assets/img/icons.svg';\r\n\r\nconst SvgLink = ({title, link, isExit, className, svgClassName, ...props}) => {\r\n    return (\r\n        <NavLink {...props} title={title} to={link} className={ className ? className : s.asideBlock + (isExit ? \" \" + s.exit : \"\")}>\r\n            <svg className={svgClassName ? svgClassName : s.icon + (isExit ? \" \" + s.exit_icon : \"\")}>\r\n                <use xlinkHref={`${icons}#${title.toLowerCase().replace(/ /g, '_')}`} />\r\n            </svg>\r\n        </NavLink> \r\n    );\r\n}\r\n\r\nexport default SvgLink;","export default __webpack_public_path__ + \"static/media/logo.396082b3.svg\";","import Navbar from './Navbar';\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport SvgLink from '../HelpfulComponents/SvgLink';\r\nimport {connect} from 'react-redux';\r\nimport {NavLink} from 'react-router-dom';\r\nimport logo from '../../assets/img/logo.svg'\r\nimport {setHeaderTitle} from \"../../redux/navbarReducer\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nconst Navbar = ({items, setHeaderTitle, logout}) => {\r\n    const menuElements = items.map((item, id) => (<SvgLink onClick={() => setHeaderTitle(item.title)} key={id} title={item.title} link={item.link}/>));\r\n\r\n    return (\r\n        <nav className={`${s.block}`}>\r\n            <NavLink to='/' className={`${s.logo}`}>\r\n                <img src={logo} className={`${s.logo__img}`} alt='logo' />\r\n            </NavLink>\r\n\r\n            <div className={s.main__nav}>\r\n                {menuElements}\r\n            </div>\r\n\r\n            <SvgLink onClick={logout} title={'exit'} link={'/'} isExit={true} urlId={'exit'}/>\r\n\r\n        </nav>       \r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        items: state.navbar.menuItems\r\n    }\r\n}\r\n\r\nconst NavbarContainer = connect(mapStateToProps, {setHeaderTitle, logout})(Navbar);\r\n\r\n\r\nexport default NavbarContainer;","import AvatarLower from './AvatarLower';\r\nexport default AvatarLower;","import React from 'react';\r\nimport s from './AvatarLower.module.css';\r\nimport defaultAvatar from '../../../assets/img/user.png';\r\n\r\nconst AvatarLower = ({url}) => {\r\n    return <div className={s.avatarBlock}><img className={s.image} src={url ? url : defaultAvatar} alt=\"avatar\"/></div>\r\n}\r\n\r\nexport default AvatarLower;","import Dialog from './Dialog';\r\nexport default Dialog;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport AvatarLower from '../../HelpfulComponents/AvatarLower';\r\nimport s from './Dialog.module.css';\r\n\r\n// import AvatarLower;\r\n\r\nconst Dialog = ({name, avatarLink, lastMsg, time, id, isActive}) => {\r\n    return (\r\n        <NavLink to={`/messages/${id}`} className={`${s.content} block ${isActive ? s.active : ''}`} activeClassName={s.active}>\r\n            <AvatarLower url={avatarLink}/>\r\n            <h2 className={s.name}>{name}</h2>\r\n            <p className={s.msg}>{lastMsg}</p>\r\n            <time className={s.time}>{time}</time>\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default Dialog;","import Message from './Message';\r\nexport default Message;","import React from 'react';\r\nimport s from './Message.module.css';\r\nimport AvatarLower from '../../../HelpfulComponents/AvatarLower';\r\n\r\nconst Message = ({message, avatarLink, time, name}) => {\r\n\r\n    return (\r\n        <div className={s.content}>\r\n            <AvatarLower url={avatarLink}/>\r\n            <h2 className={s.name}>{name}</h2>\r\n            <p className={s.text}>{message}</p>\r\n            <time className={s.time}>{time}</time>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;","const ADD_MESSAGE = 'app/dialogs/ADD_MESSAGE';\r\nconst SELECT_DIALOG = 'app/dialogs/SELECT_DIALOG';\r\n\r\nconst initialState = {\r\n     dialogs : [\r\n         {id: 1, isActive: true, user: {id: 1, name: 'Yana Pros', avatarLink: 'https://sun9-34.userapi.com/3mud1_gH3q-HAdZ7wpn_e5vFP0PqcEpKb9f60Q/2L9tDPWPwbk.jpg'}, time: new Date().toTimeString().substr(0, 9), messages: [\r\n                 {id: 1, author: {id: 1, name: 'Yana Pros', avatarLink: 'https://sun9-34.userapi.com/3mud1_gH3q-HAdZ7wpn_e5vFP0PqcEpKb9f60Q/2L9tDPWPwbk.jpg'}, time: new Date().toTimeString().substr(0, 9), message: 'Hello'},\r\n                 {id: 2, author: {id: 1, name: 'Yana Pros', avatarLink: 'https://sun9-34.userapi.com/3mud1_gH3q-HAdZ7wpn_e5vFP0PqcEpKb9f60Q/2L9tDPWPwbk.jpg'}, time: new Date().toTimeString().substr(0, 9), message: 'How are you?'},\r\n             ],},\r\n         {id: 2, isActive: false, user: {id: 2, name: 'Ira Pauchok', avatarLink: 'https://sun9-15.userapi.com/impf/Nn3nY4xxOxkBHEW9Ao3_alcZAXgumh2lNlsYpQ/SlcMmc77PaA.jpg?size=936x937&quality=96&proxy=1&sign=42731f0c49c5336fe6618ae48eaa903f'}, time: new Date().toTimeString().substr(0, 9),  messages: []},\r\n         {id: 3, isActive: false, user: {id: 3, name: 'Nikita Brekhov', avatarLink: 'https://sun7-8.userapi.com/impf/c851036/v851036735/113073/SOiON4aYvpU.jpg?size=844x891&quality=96&proxy=1&sign=87c777a34cb5afd9de8f56293aa79c6b'}, time: new Date().toTimeString().substr(0, 9), messages: []}\r\n     ],\r\n};\r\n\r\nexport const addMessage = (authorInfo, message) => ({type: ADD_MESSAGE, authorInfo, message});\r\nexport const selectDialog = (id) => ({type: SELECT_DIALOG, dialogId: id});\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            const stateCopy = {...state};\r\n            stateCopy.dialogs = [...state.dialogs];\r\n            const activeDialog = stateCopy.dialogs.find(dialog => dialog.isActive);\r\n            const dialogMessages = activeDialog.messages;\r\n            const msg = {\r\n                id: dialogMessages.length ? dialogMessages[dialogMessages.length - 1].id++ : 1,\r\n                time: new Date().toTimeString().substr(0, 9),\r\n                message: action.message,\r\n                author: action.authorInfo\r\n            };\r\n            activeDialog.messages.push(msg);\r\n            stateCopy.newMessageText = '';\r\n            return stateCopy;\r\n\r\n        case SELECT_DIALOG:\r\n            state.dialogs.forEach(d => {\r\n                d.isActive = d.id === action.dialogId;\r\n            });\r\n            return {\r\n                ...state,\r\n                dialogs: [...state.dialogs]\r\n            };\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport s from \"../../Profile/Posts/Posts.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport SvgItem from \"../../HelpfulComponents/SvgItem\";\r\nimport {maxLengthValidateCreator, required} from \"../../../utils/validators/validators\";\r\nimport Textarea from \"../../HelpfulComponents/Textarea/Textarea\";\r\n\r\nconst maxLength200 = maxLengthValidateCreator(200);\r\n\r\nconst MessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.block_line}>\r\n            <Field\r\n                component={Textarea}\r\n                placeholder={'Input your text'}\r\n                rows={1}\r\n                isresize={false}\r\n                name={\"message\"}\r\n                validate={[maxLength200, required]}\r\n            />\r\n\r\n            <Field name={\"file\"} component={\"input\"} type='file' id={`post-1`} className={s.file} accept=\"image/jpeg,image/png,image/gif,image/heic,image/heif,image/webp\"/>\r\n            <label htmlFor={`post-1`} className={`${s.file_btn}`}>\r\n                <SvgItem width={'25px'} height={'25px'} className={s.icon} urlId={'add'} />\r\n            </label>\r\n            <button className={s.send_button_block}>\r\n                <SvgItem width={'25px'} height={'25px'} className={s.send_button} urlId={'send'}/>\r\n            </button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm({form: 'messageForm'})(MessageForm);","import Messages from './Messages';\r\nexport default Messages;","import React from 'react';\r\nimport Message from './Message';\r\nimport s from './Messages.module.css';\r\nimport {addMessage} from \"../../../redux/dialogsReducer.js\";\r\nimport {connect} from \"react-redux\";\r\nimport MessageForm from \"./MessageForm\";\r\n\r\nconst Messages = ({messages, dialogName, addMessage, loggedUser}) => {\r\n\r\n    const onMessageSend = ({message}) => {\r\n        addMessage(loggedUser, message);\r\n    }\r\n\r\n    return (\r\n        <aside className={`${s.content} block`}>\r\n            <div className={s.header}>\r\n                <h2 className={s.title}>{dialogName}</h2>\r\n                <div className=\"underline\"/>\r\n            </div>\r\n\r\n            \r\n            <div className={s.messages}>\r\n                {messages}\r\n            </div>\r\n\r\n            <div className={s.input__msg}>\r\n                <MessageForm onSubmit={onMessageSend}/>\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const selectedDialog = state.dialogsPage.dialogs.find(dialog => dialog.isActive);\r\n\r\n    return {\r\n        dialogName: selectedDialog.user.name,\r\n        messages: selectedDialog.messages.map(msg => (\r\n            <Message\r\n                key={msg.id}\r\n                avatarLink={msg.author.avatarLink}\r\n                message={msg.message}\r\n                name={msg.author.name}\r\n                time={msg.time}\r\n            />\r\n        )),\r\n        loggedUser: state.auth.loggedUser\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {addMessage})(Messages);","import Dialogs from './Dialogs';\r\nexport default Dialogs;","import React from 'react';\r\nimport Dialog from './Dialog';\r\nimport s from './Dialogs.module.css';\r\nimport MessagesContainer from './Messages';\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\n\r\nconst Dialogs = ({dialogs}) => {\r\n\r\n    return (\r\n        <>\r\n            <main className={`${s.content}`}>\r\n                <aside className={s.people}>\r\n                    {dialogs}\r\n                </aside>\r\n                <MessagesContainer />\r\n            </main>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.dialogsPage.dialogs.map(dialog => (\r\n            <Dialog\r\n                id={dialog.id}\r\n                key={dialog.id}\r\n                name={dialog.user.name}\r\n                time={dialog.time}\r\n                lastMsg={dialog.messages.length !== 0 ? dialog.messages[dialog.messages.length - 1].message : 'nothing'}\r\n                avatarLink={dialog.user.avatarLink}\r\n                isActive={dialog.isActive}\r\n            />\r\n        )),\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps)\r\n)(Dialogs);","import News from './News';\r\nexport default News;","import React from 'react';\r\nimport s from './News.module.css';\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nconst News = () => {\r\n\r\n    return (\r\n        <p>News</p>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect\r\n)(News);","import User from './User';\r\nexport default User;","import React from 'react';\r\nimport s from './User.module.css';\r\nimport AvatarLower from \"../../HelpfulComponents/AvatarLower\";\r\nimport SvgItem from \"../../HelpfulComponents/SvgItem\";\r\nimport SvgLink from \"../../HelpfulComponents/SvgLink\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPng from '../../../assets/img/user.png';\r\n\r\nconst User = ({id, status, followed, name, avatarLink, follow, unfollow, followingProcess}) => {\r\n\r\n    return (\r\n        <div className={`${s.block} block`}>\r\n            <AvatarLower url={avatarLink ? avatarLink : userPng}/>\r\n            <NavLink to={`profile/${id}`} className={s.name}>{name}</NavLink>\r\n            <p className={s.status}>{status}</p>\r\n            <SvgLink link={`messages/${id}`} title={'send'} className={`${s.btn} ${s.sendBtn}`} svgClassName={s.svg}/>\r\n            {followed ?\r\n                <button disabled={followingProcess.some(userId => userId === id)} onClick={() => unfollow(id)} className={`${s.btn} ${s.addBtn}`}>\r\n                    <SvgItem width={'25px'} height={'25px'} className={s.svgRed} urlId={'close'}/>\r\n                </button>\r\n                :\r\n                <button disabled={followingProcess.some(userId => userId === id)} onClick={() => follow(id)} className={`${s.btn} ${s.addBtn}`}>\r\n                    <SvgItem width={'25px'} height={'25px'} className={s.svg} urlId={'add-friend'}/>\r\n                </button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport s from './AuthBlock.module.css';\r\nimport AvatarLower from \"../AvatarLower\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst AuthBlock = (props) => {\r\n    return (\r\n        <NavLink to={'/profile'} className={s.container} style={{left: props.left, right: props.right, top: props.top, bottom: props.bottom}}>\r\n            {props.isAuth ?\r\n                <>\r\n                    <AvatarLower />\r\n                    <p className={s.login}>{props.login}</p>\r\n                </>\r\n                :\r\n                <button onClick={() => props.loginRequest()} className={`btn`}>Login</button>\r\n            }\r\n        </NavLink>\r\n    );\r\n};\r\n\r\nexport default AuthBlock;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport AuthBlock from \"./AuthBlock\";\r\nimport Preloader from \"../Preloader\";\r\n\r\nclass AuthBlockContainer extends React.Component {\r\n\r\n    render() {\r\n        if (this.props.isFetching) return <Preloader/>\r\n\r\n        return <AuthBlock {...this.props} loginRequest={this.props.loginRequest} right={this.props.right}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    isFetching: state.auth.isFetching,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps)(AuthBlockContainer);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router\";\r\nimport {compose} from \"redux\";\r\nimport AuthBlockContainer from \"../HelpfulComponents/AuthBlock/AuthBlockContainer\";\r\n\r\nconst Header = (props) => {\r\n\r\n    const title = props.location.pathname === '/login' ? 'Sign in' : props.title\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <h1 className={s.title}>{title}</h1>\r\n            <AuthBlockContainer right={0}/>\r\n        </header>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    title: state.navbar.headerTitle\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    withRouter\r\n)(Header);","import Header from './Header';\r\nexport default Header;","import React from 'react';\r\nimport User from \"./User\";\r\nimport Header from \"../Header\";\r\nimport s from \"./Users.module.css\";\r\n\r\nconst Users = (props) => {\r\n\r\n    const usersElements = props.users.map(u =>\r\n        <User\r\n            id={u.id}\r\n            key={u.id}\r\n            follow={props.follow}\r\n            unfollow={props.unfollow}\r\n            followed={u.followed}\r\n            status={u.status} name={u.name}\r\n            avatarLink={u.photos.small}\r\n            followingProcess={props.followingProcess}\r\n        />)\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header title={'Users'}/>\r\n            <main className={s.content}>\r\n                <div className={s.search}></div>\r\n                <section className={s.friendList}>\r\n                    {usersElements}\r\n                </section>\r\n                <div className={s.buttonContainer}>\r\n                    <button onClick={() => props.onLoadUsers()} className={`btn ${s.button}`}>Load more</button>\r\n                </div>\r\n\r\n            </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Users;","import {usersAPI} from \"../API/API\";\r\n\r\nconst initialState = {\r\n    all: [],\r\n    searchText: '',\r\n    totalCountUsers: 0,\r\n    pageSize: 8,\r\n    page: 1,\r\n    isFetching: false,\r\n    followingProcess: []\r\n}\r\n\r\nconst FOLLOW = \"app/users/FOLLOW\";\r\nconst UNFOLLOW = \"app/users/UNFOLLOW\";\r\nconst SET_USERS = \"app/users/SET_USERS\";\r\nconst CHANGE_SEARCH_TEXT = 'app/users/CHANGE_SEARCH_TEXT';\r\nconst SET_TOTAL_COUNT_USERS = 'app/users/SET_TOTAL_COUNT_USERS';\r\nconst SET_PAGE = 'app/users/SET_PAGE';\r\nconst RESET_USERS = 'app/users/RESET_USERS';\r\nconst TOGGLE_FETCHING = 'app/users/TOGGLE_FETCHING';\r\nconst TOGGLE_FOLLOWING_PROCESS = 'app/users/TOGGLE_FOLLOWING_PROCESS'\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (usersData) => ({type: SET_USERS, usersData});\r\nexport const onSearchChange = (text) => ({type: CHANGE_SEARCH_TEXT, text});\r\nexport const setTotalCountUsers = (count) => ({type: SET_TOTAL_COUNT_USERS, count});\r\nexport const setPage = (page) => ({type: SET_PAGE, page});\r\nexport const resetUsers = () => ({type: RESET_USERS});\r\nexport const toggleFetching = (isFetching) => ({type: TOGGLE_FETCHING, isFetching});\r\nexport const toggleFollowingProcess = (isFollowing, userId) => ({type: TOGGLE_FOLLOWING_PROCESS, isFollowing, userId});\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n    dispatch(toggleFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountUsers(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProcess(true, id));\r\n    const data = await apiMethod(id)\r\n    dispatch(toggleFollowingProcess(false));\r\n    if (data.resultCode === 0) dispatch(actionCreator(id));\r\n}\r\n\r\nexport const follow = (id) => async (dispatch) => followUnfollowFlow(dispatch, id, usersAPI.followUser.bind(usersAPI), followSuccess);\r\n\r\nexport const unfollow = (id) => async (dispatch) => followUnfollowFlow(dispatch, id, usersAPI.unfollowUser.bind(usersAPI), unfollowSuccess);\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                all: state.all.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        u.followed = true\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                all: state.all.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        u.followed = false\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                all: [...state.all, ...action.usersData]\r\n            }\r\n        case CHANGE_SEARCH_TEXT:\r\n            return {\r\n                ...state,\r\n                searchText: action.text\r\n            }\r\n        case SET_TOTAL_COUNT_USERS:\r\n            return {\r\n                ...state,\r\n                totalCountUsers: action.count\r\n            }\r\n        case SET_PAGE:\r\n            return {\r\n                ...state,\r\n                page: action.page\r\n            }\r\n        case RESET_USERS:\r\n            return {\r\n                ...state,\r\n                all: []\r\n            }\r\n        case TOGGLE_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOWING_PROCESS:\r\n            return {\r\n                ...state,\r\n                followingProcess: action.isFollowing ?\r\n                    [...state.followingProcess, action.userId]\r\n                    :\r\n                    state.followingProcess.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {createSelector} from 'reselect';\r\n\r\nconst getUsersSelector = (state) => state.users.all;\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true); //test\r\n})\r\n\r\nconst getPageSizeSelector = (state) => state.users.pageSize;\r\nexport const getPageSize = createSelector(getPageSizeSelector, (pageSize) => pageSize);\r\n\r\nconst getTotalCountUsersSelector = (state) => state.users.totalCountUsers;\r\nexport const getTotalCountUsers = createSelector(getTotalCountUsersSelector, (totalCount) => totalCount);\r\n\r\nconst getPageSelector = (state) => state.users.page;\r\nexport const getPage= createSelector(getPageSelector, (page) => page);\r\n\r\n\r\nconst getIsFetchingSelector = (state) => state.users.isFetching;\r\nexport const getIsFetching = createSelector(getIsFetchingSelector, (isFetching) => isFetching);\r\n\r\nconst getFollowingProcessSelector = (state) => state.users.followingProcess;\r\nexport const getFollowingProcess = createSelector(getFollowingProcessSelector, followingProcess => followingProcess);\r\n\r\n","import Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    unfollow,\r\n    onSearchChange,\r\n    setPage, resetUsers, requestUsers\r\n} from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Preloader from \"../HelpfulComponents/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {setHeaderTitle} from \"../../redux/navbarReducer\";\r\nimport {\r\n    getFollowingProcess,\r\n    getIsFetching,\r\n    getPage,\r\n    getPageSize,\r\n    getTotalCountUsers,\r\n    getUsers\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.page, this.props.pageSize);\r\n        this.props.setHeaderTitle('Users');\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setPage(1);\r\n        this.props.resetUsers();\r\n    }\r\n\r\n    onLoadUsers = () => {\r\n        this.props.getUsers(this.props.page + 1, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.users) return <Preloader/>;\r\n\r\n        return (\r\n            <>\r\n                <Users\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    users={this.props.users}\r\n                    onLoadUsers={this.onLoadUsers}\r\n                    followingProcess={this.props.followingProcess}\r\n                />\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalCountUsers: getTotalCountUsers(state),\r\n        page: getPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingProcess: getFollowingProcess(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow, unfollow, setPage, resetUsers, onSearchChange, getUsers: requestUsers, setHeaderTitle\r\n    })\r\n)(UsersContainer);","import React from 'react';\r\n\r\nconst Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <>\r\n            {hasError && <span className={'error-text'}>{meta.error}</span>}\r\n            <input {...input} {...props} className={`input ${hasError ? 'error' : ''}`}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport s from './Login.module.css'\r\nimport {maxLengthValidateCreator, required} from \"../../utils/validators/validators\";\r\nimport Input from \"../HelpfulComponents/Input/Input\";\r\n\r\nconst maxLength50 = maxLengthValidateCreator(50);\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <form className={'form'} onSubmit={props.handleSubmit}>\r\n            <h2 className='formTitle'>Sign in</h2>\r\n            {props.error && <h3 className={s.error}>{props.error}</h3>}\r\n            <Field component={Input} type={'text'} name={\"login\"} placeholder={'Login'} validate={[maxLength50, required]}/>\r\n            <Field component={Input} type={'password'} name={\"password\"} placeholder={'Password'} validate={[maxLength50, required]}/>\r\n            <div>\r\n                <Field className={'checkbox'} component={'input'} type={'checkbox'} name={\"isRemember\"}/>\r\n                <label className={'label'} htmlFor={'isRemember'}>Remember me</label>\r\n            </div>\r\n            <button className={`btn ${s.btn}`}>Login</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm({form: 'login'})(LoginForm);","import React from 'react';\r\nimport LoginForm from \"./LoginForm\";\r\nimport s from './Login.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport {withRouter} from \"react-router\";\r\nimport {compose} from \"redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (data) => {\r\n        const {isRemember, login, password} = data;\r\n        props.login(login, password, isRemember);\r\n    }\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <LoginForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {login}),\r\n    withRouter\r\n)(Login);","import React from 'react';\r\nimport {Redirect} from \"react-router\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"../HelpfulComponents/Preloader\";\r\nimport {setHeaderTitle} from \"../../redux/navbarReducer\";\r\n\r\nclass StartPage extends React.Component {\r\n\r\n    render() {\r\n        if(this.props.isFetching) return <Preloader/>\r\n        this.props.setHeaderTitle('News');\r\n        return <Redirect to='/news'/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isFetching: state.auth.isFetching,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {setHeaderTitle})\r\n)(StartPage);","import React from 'react';\r\nimport NavbarContainer from './modules/Navbar';\r\nimport Dialogs from './modules/Dialogs';\r\nimport News from './modules/News';\r\nimport {Route} from 'react-router-dom';\r\nimport './app.css';\r\nimport './nullstyle.css';\r\nimport UsersContainer from './modules/Users/UsersContainer';\r\nimport Login from \"./modules/Login/Login\";\r\nimport StartPage from \"./modules/StartPage/StartPage\";\r\nimport Header from \"./modules/Header/Header\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport Preloader from \"./modules/HelpfulComponents/Preloader\";\r\nimport withSuspense from \"./hoc/withSuspense\";\r\n\r\nconst Settings = React.lazy(() => import('./modules/Settings'))\r\nconst ProfileContainer = React.lazy(() => import('./modules/Profile/ProfileContainer'))\r\nconst Music = React.lazy(() => import('./modules/Music'))\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <NavbarContainer/>\r\n                <Header/>\r\n                <div className='container'>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                    <Route exact={true} path='/' render={() => <StartPage/>}/>\r\n                    <Route path='/profile/:id?' render={withSuspense(ProfileContainer)}/>\r\n                    <Route path='/messages' render={() => <Dialogs/>}/>\r\n                    <Route path='/news' render={() => <News/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/music' render={withSuspense(Music)}/>\r\n                    <Route path='/settings' render={withSuspense(Settings)}/>\r\n                </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n"," import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport navbarReducer from \"./navbarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nconst reducers = combineReducers({\r\n    app: appReducer,\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    navbar: navbarReducer,\r\n    users: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport store from './redux/reduxStore';\r\nimport {Provider} from 'react-redux';\r\nimport {BrowserRouter, HashRouter} from 'react-router-dom';\r\n\r\nconst rootElement = document.getElementById('app-wrapper');\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n    rootElement\r\n);\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n","const SET_HEADER_TITLE = 'app/navbar/SET_HEADER_TITLE';\r\n\r\nconst initialState = {\r\n    headerTitle: '',\r\n    menuItems: [\r\n        {title: 'My Profile', link: '/profile'},\r\n        {title: 'Messages', link: '/messages'},\r\n        {title: 'News', link: '/news'},\r\n        {title: 'Users', link: '/users'},\r\n        {title: 'Music', link: '/music'},\r\n        {title: 'Settings', link: '/settings'}\r\n    ]\r\n};\r\n\r\nexport const setHeaderTitle = (headerTitle) => ({type: SET_HEADER_TITLE, headerTitle});\r\n\r\nconst navbarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_HEADER_TITLE:\r\n            return {\r\n                ...state,\r\n                headerTitle: action.headerTitle\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default navbarReducer;","import React from 'react';\r\nimport {Redirect} from \"react-router\";\r\nimport {connect} from \"react-redux\";\r\nimport {initialized} from \"../redux/appReducer\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nconst withAuthRedirect = (Component) => {\r\n\r\n    const withAuthRedirectComponent = (props) => {\r\n        if (!props.isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...props}/>\r\n    }\r\n\r\n    return connect(mapStateToProps)(withAuthRedirectComponent);\r\n}\r\n\r\nexport default withAuthRedirect;","import {authAPI, profileAPI, usersAPI} from \"../API/API\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_INFO = 'app/auth/SET_AUTH_USER_INFO';\r\nconst SET_LOGGED_USER = 'app/auth/SET_LOGGED_USER';\r\nconst TOGGLE_FETCHING = 'app/auth/TOGGLE_FETCHING';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n    loggedUser: null\r\n}\r\n\r\nexport const setAuthUserInfo = (userId, email, login, isAuth) => ({\r\n    type: SET_AUTH_USER_INFO,\r\n    userId,\r\n    email,\r\n    login,\r\n    isAuth\r\n});\r\nexport const toggleFetching = (isFetching) => ({type: TOGGLE_FETCHING, isFetching});\r\nexport const setLoggedUser = (user) => ({type: SET_LOGGED_USER, user})\r\n\r\nexport const loginRequest = () => async (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    const data = await authAPI.getAuth()\r\n    dispatch(toggleFetching(false));\r\n    if (data.resultCode === 0) {\r\n        const {id, email, login} = data.data;\r\n        dispatch(setAuthUserInfo(id, email, login, true));\r\n        await profileAPI.getProfileInfo(id).then(data => dispatch(setLoggedUser(data)))\r\n    }\r\n    return data;\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    const data = await authAPI.login(email, password, rememberMe)\r\n\r\n    dispatch(toggleFetching(false));\r\n    if (data.resultCode === 0) dispatch(loginRequest());\r\n    else dispatch(stopSubmit('login', {_error: data.messages[0] || 'Some error!'}))\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    dispatch(toggleFetching(true));\r\n    const data = await authAPI.logout()\r\n\r\n    dispatch(toggleFetching(false));\r\n    if (data.resultCode === 0) {\r\n        dispatch(setAuthUserInfo(null, null, null, false));\r\n    }\r\n\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_INFO:\r\n            return {\r\n                ...state,\r\n                userId: action.userId,\r\n                email: action.email,\r\n                login: action.login,\r\n                isAuth: action.isAuth\r\n            }\r\n        case TOGGLE_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case SET_LOGGED_USER:\r\n            return {\r\n                ...state,\r\n                loggedUser: action.user\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Posts_content__PLZjf\",\"posts\":\"Posts_posts__kd6jW\",\"block\":\"Posts_block__1moHt\",\"block_line\":\"Posts_block_line__2M0lw\",\"send_button_block\":\"Posts_send_button_block__u35FP\",\"btn\":\"Posts_btn__3BReR\",\"title\":\"Posts_title__Ud1XC\",\"file\":\"Posts_file__3VDZw\",\"file_btn\":\"Posts_file_btn__2iv8w\",\"icon\":\"Posts_icon__2aFff\",\"send_button\":\"Posts_send_button__1_Ilw\"};","export const required = value => !value ? 'Field is required!' : undefined;\r\n\r\nexport const maxLengthValidateCreator = length => value => {\r\n    if (value && (length < value.length)) return `Message to large, max is ${length}`;\r\n    else return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Dialog_content__Zh7O1\",\"active\":\"Dialog_active__1hWdk\",\"name\":\"Dialog_name__1xfGz\",\"msg\":\"Dialog_msg__VyUgc\",\"time\":\"Dialog_time__2Zp5k\"};","import React from 'react';\r\nimport icons from '../../../assets/img/icons.svg';\r\n\r\nconst SvgItem = ({width = '25px', height = '25px', fillColor = '#000000', urlId, fullUrl, className}) => {\r\n    return (\r\n        <svg className={className} width={width} height={height} fill={fillColor}>\r\n            <use xlinkHref={fullUrl ? fullUrl : `${icons}#${urlId}`} />\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default SvgItem;","import SvgItem from \"./SvgItem\";\r\nexport default SvgItem;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Messages_content__22bTe\",\"title\":\"Messages_title__3y_km\",\"header\":\"Messages_header__1rERA\",\"input__msg\":\"Messages_input__msg__2PS_E\",\"messages\":\"Messages_messages__jOcZ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Users_content__3CtQN\",\"friendList\":\"Users_friendList__1AAby\",\"buttonContainer\":\"Users_buttonContainer__1VvzQ\",\"search\":\"Users_search__2j8XN\"};","import {loginRequest} from \"./authReducer\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst INITIALIZED_SUCCESSFUL = 'bloom/app/INITIALIZED_SUCCESSFUL';\r\n\r\nexport const initializedSuccessful = () => ({type: INITIALIZED_SUCCESSFUL});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    await Promise.all([dispatch(loginRequest())])\r\n    dispatch(initializedSuccessful());\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__2XOWg\",\"btn\":\"Login_btn__2B-yQ\",\"error\":\"Login_error__2NlTX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Navbar_block__2DCT5\",\"logo\":\"Navbar_logo__3ysvd\",\"icon\":\"Navbar_icon__3-huf\",\"logo__img\":\"Navbar_logo__img__gt831\",\"main__nav\":\"Navbar_main__nav__2WQWF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"SvgLink_item__2eb3T\",\"icon\":\"SvgLink_icon__Lqdv7\",\"asideBlock\":\"SvgLink_asideBlock__1F_cE\",\"exit_icon\":\"SvgLink_exit_icon__XHNYj\",\"exit\":\"SvgLink_exit__3M-uc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Message_content__1UR5M\",\"time\":\"Message_time__Vd2F5\",\"name\":\"Message_name__3isnr\",\"text\":\"Message_text__zXlVc\"};","export default __webpack_public_path__ + \"static/media/icons.79d97f20.svg\";","export default __webpack_public_path__ + \"static/media/user.a6143582.png\";","import React from 'react';\r\nimport Preloader from \"../modules/HelpfulComponents/Preloader\";\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    };\r\n}\r\n\r\nexport default withSuspense;"],"sourceRoot":""}
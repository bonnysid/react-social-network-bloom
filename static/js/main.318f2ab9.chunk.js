(this.webpackJsonpbloom=this.webpackJsonpbloom||[]).push([[0],{105:function(e,t,n){e.exports={avatarBlock:"AvatarLower_avatarBlock__Q9jCd",image:"AvatarLower_image__317u1"}},106:function(e,t,n){e.exports={content:"Dialogs_content__1zdGL",title:"Dialogs_title__2nIL1",people:"Dialogs_people__2S-16",messages:"Dialogs_messages__1Q2WY",block:"Dialogs_block__1MErw",block_line:"Dialogs_block_line__2slq2",send_button_block:"Dialogs_send_button_block__MzE2P",text:"Dialogs_text__1Z0hm",notRes:"Dialogs_notRes__2ftf4",btn:"Dialogs_btn__3R5NR",file:"Dialogs_file__3Xpge",file_btn:"Dialogs_file_btn__1PdU9",icon:"Dialogs_icon__3s8Yg",send_button:"Dialogs_send_button__2BzeI"}},107:function(e,t,n){e.exports={text:"Textarea_text__2oo2s",nonResize:"Textarea_nonResize__29IK2"}},110:function(e,t,n){e.exports={header:"Header_header__2rcHP",title:"Header_title__JYNK0"}},111:function(e,t,n){e.exports={container:"AuthBlock_container__2knMQ",login:"AuthBlock_login__1YwgL"}},112:function(e,t,n){e.exports={container:"Preloader_container__22FX2",image:"Preloader_image__1RBiE"}},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return x}));var a=n(32),s=n(3),r=n(12),c=n.n(r),i=n(14),o=n(15),u=n(31),l="app/profile/ADD_POST",b="app/profile/DELETE_POST",j="app/profile/SET_USER_PAGE_INFO",d="app/profile/TOGGLE_FETCHING",p="app/profile/SET_USER_STATUS",f={posts:[{id:1,author:"Nikita Bortsov",comment:'Lorem Ipsum - \u044d\u0442\u043e \u0442\u0435\u043a\u0441\u0442-"\u0440\u044b\u0431\u0430", \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u0432 \u043f\u0435\u0447\u0430\u0442\u0438 \u0438 \u0432\u044d\u0431-\u0434\u0438\u0437\u0430\u0439\u043d\u0435. Lorem Ipsum \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0439 "\u0440\u044b\u0431\u043e\u0439" \u0434\u043b\u044f \u0442\u0435\u043a\u0441\u0442\u043e\u0432 \u043d\u0430 \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0435 \u0441 \u043d\u0430\u0447\u0430\u043b\u0430 XVI \u0432\u0435\u043a\u0430. \u0412 \u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043d\u0435\u043a\u0438\u0439 \u0431\u0435\u0437\u044b\u043c\u044f\u043d\u043d\u044b\u0439 \u043f\u0435\u0447\u0430\u0442\u043d\u0438\u043a \u0441\u043e\u0437\u0434\u0430\u043b \u0431\u043e\u043b\u044c\u0448\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u0438 \u0444\u043e\u0440\u043c \u0448\u0440\u0438\u0444\u0442\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f Lorem Ipsum \u0434\u043b\u044f \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u043a\u0438 \u043e\u0431\u0440\u0430\u0437\u0446\u043e\u0432. Lorem Ipsum \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0435\u0440\u0435\u0436\u0438\u043b \u0431\u0435\u0437 \u0437\u0430\u043c\u0435\u0442\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043f\u044f\u0442\u044c \u0432\u0435\u043a\u043e\u0432, \u043d\u043e \u0438 \u043f\u0435\u0440\u0435\u0448\u0430\u0433\u043d\u0443\u043b \u0432 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0434\u0438\u0437\u0430\u0439\u043d. \u0415\u0433\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0432 \u043d\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u0441\u043b\u0443\u0436\u0438\u043b\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u043b\u0438\u0441\u0442\u043e\u0432 Letraset \u0441 \u043e\u0431\u0440\u0430\u0437\u0446\u0430\u043c\u0438 Lorem Ipsum \u0432 60-\u0445 \u0433\u043e\u0434\u0430\u0445 \u0438, \u0432 \u0431\u043e\u043b\u0435\u0435 \u043d\u0435\u0434\u0430\u0432\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f, \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0451\u0440\u0441\u0442\u043a\u0438 \u0442\u0438\u043f\u0430 Aldus PageMaker, \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f Lorem Ipsum.',likeCount:90},{id:2,author:"Nikita Bortsov",comment:"First post!",likeCount:5}],userPageInfo:{},isFetching:!1,userStatus:""},g=function(e,t){return{type:l,authorInfo:e,message:t}},m=function(e){return{type:d,isFetching:e}},h=function(e){return{type:p,status:e}},_=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m(!0)),t.next=3,o.b.getProfileInfo(e);case 3:a=t.sent,n(m(!1)),n({type:j,userPageInfo:a}),n(Object(u.b)(a.fullName));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getUserStatus(e);case 2:a=t.sent,n(h(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m(!0)),t.next=3,o.b.updateUserStatus(e);case 3:0===t.sent.resultCode&&(n(m(!1)),n(h(e)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={id:e.posts[e.posts.length-1].id++,author:t.authorInfo.name,comment:t.message,likeCount:0};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[n]),newPostText:""});case b:return e.posts.forEach((function(n,a){n.id===t.postId&&e.posts.splice(a,1)})),Object(s.a)(Object(s.a)({},e),{},{posts:Object(a.a)(e.posts)});case j:return Object(s.a)(Object(s.a)({},e),{},{userPageInfo:t.userPageInfo});case d:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case p:return Object(s.a)(Object(s.a)({},e),{},{userStatus:t.status});default:return e}}},124:function(e,t,n){"use strict";var a=n(3),s=n(52),r=n(0),c=(n(1),n(107)),i=n.n(c);t.a=function(e){var t=e.input,n=e.meta,c=Object(s.a)(e,["input","meta"]),o=n.touched&&n.error;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("textarea",Object(a.a)(Object(a.a)(Object(a.a)({},t),c),{},{className:"".concat(i.a.text," ").concat(o?"error":""," ").concat(c.isresize?"":i.a.nonResize)}))})}},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));var a=n(23),s=n(25),r=n(24),c=n(19),i=n(149),o=n.n(i),u=function e(t){Object(c.a)(this,e),this._instance=o.a.create({withCredentials:t.withCredentials,baseURL:t.baseURL,"API-KEY":t.key})},l=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getUsers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return this._instance.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))}},{key:"followUser",value:function(e){return this._instance.post("follow/".concat(e)).then((function(e){return e.data}))}},{key:"unfollowUser",value:function(e){return this._instance.delete("follow/".concat(e)).then((function(e){return e.data}))}}]),n}(u),b=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getProfileInfo",value:function(e){return this._instance.get("profile/".concat(e)).then((function(e){return e.data}))}},{key:"getUserStatus",value:function(e){return this._instance.get("profile/status/".concat(e)).then((function(e){return e.data}))}},{key:"updateUserStatus",value:function(e){return this._instance.put("profile/status",{status:e})}}]),n}(u),j=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"getAuth",value:function(){return this._instance.get("auth/me").then((function(e){return e.data}))}},{key:"login",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._instance.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this._instance.delete("auth/login").then((function(e){return e.data}))}}]),n}(u),d={withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",key:"4d9b271f-9cf4-4f81-8b4d-581142592afa"},p=new l(d),f=new j(d),g=new b(d)},22:function(e,t,n){e.exports={block:"User_block__3oMCW",name:"User_name__1v69t",avatar:"User_avatar__1fZcW",addBtn:"User_addBtn__1_bm4",btn:"User_btn__3nlBI",status:"User_status__3OKbw",sendBtn:"User_sendBtn__143PM",svg:"User_svg__11V02",svgRed:"User_svgRed__3Of7u"}},27:function(e,t,n){"use strict";var a=n(0),s=(n(1),n.p+"static/media/preloader.48cdd81c.svg"),r=n(112),c=n.n(r),i=function(){return Object(a.jsx)("div",{className:c.a.container,children:Object(a.jsx)("img",{className:c.a.image,src:s})})};t.a=i},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n.n(s),c=n(78),i=n.n(c),o=n(19),u=n(23),l=n(25),b=n(24),j=n(67),d=n.n(j),p=n(3),f=n(52),g=n(68),m=n.n(g),h=n(18),_=n(79),O=function(e){var t=e.title,n=e.link,s=e.isExit,r=e.className,c=e.svgClassName,i=Object(f.a)(e,["title","link","isExit","className","svgClassName"]);return Object(a.jsx)(h.b,Object(p.a)(Object(p.a)({},i),{},{title:t,to:n,className:r||m.a.asideBlock+(s?" "+m.a.exit:""),children:Object(a.jsx)("svg",{className:c||m.a.icon+(s?" "+m.a.exit_icon:""),children:Object(a.jsx)("use",{xlinkHref:"".concat(_.a,"#").concat(t.toLowerCase().replace(/ /g,"_"))})})}))},x=n(11),v=n.p+"static/media/logo.396082b3.svg",k=n(31),w=n(36),N=Object(x.b)((function(e){return{items:e.navbar.menuItems}}),{setHeaderTitle:k.b,logout:w.d})((function(e){var t=e.items,n=e.setHeaderTitle,s=e.logout,r=t.map((function(e,t){return Object(a.jsx)(O,{onClick:function(){return n(e.title)},title:e.title,link:e.link},t)}));return Object(a.jsxs)("nav",{className:"".concat(d.a.block),children:[Object(a.jsx)(h.b,{to:"/",className:"".concat(d.a.logo),children:Object(a.jsx)("img",{src:v,className:"".concat(d.a.logo__img),alt:"logo"})}),Object(a.jsx)("div",{className:d.a.main__nav,children:r}),Object(a.jsx)(O,{onClick:s,title:"exit",link:"/",isExit:!0,urlId:"exit"})]})})),y=n(105),P=n.n(y),L=n(80),S=function(e){var t=e.url;return Object(a.jsx)("div",{className:P.a.avatarBlock,children:Object(a.jsx)("img",{className:P.a.image,src:t||L.a,alt:"avatar"})})},U=n(44),E=n.n(U),I=function(e){var t=e.name,n=e.avatarLink,s=e.lastMsg,r=e.time,c=e.id,i=e.isActive;return Object(a.jsxs)(h.b,{to:"/messages/".concat(c),className:"".concat(E.a.content," block ").concat(i?E.a.active:""),activeClassName:E.a.active,children:[Object(a.jsx)(S,{url:n}),Object(a.jsx)("h2",{className:E.a.name,children:t}),Object(a.jsx)("p",{className:E.a.msg,children:s}),Object(a.jsx)("time",{className:E.a.time,children:r})]})},T=n(106),A=n.n(T),F=n(69),C=n.n(F),D=function(e){var t=e.message,n=e.avatarLink,s=e.time,r=e.name;return Object(a.jsxs)("div",{className:C.a.content,children:[Object(a.jsx)(S,{url:n}),Object(a.jsx)("h2",{className:C.a.name,children:r}),Object(a.jsx)("p",{className:C.a.text,children:t}),Object(a.jsx)("time",{className:C.a.time,children:s})]})},R=n(53),M=n.n(R),H=n(32),z="app/dialogs/ADD_MESSAGE",B="app/dialogs/SELECT_DIALOG",G={dialogs:[{id:1,isActive:!0,user:{id:1,name:"Yana Pros",avatarLink:"https://sun9-34.userapi.com/3mud1_gH3q-HAdZ7wpn_e5vFP0PqcEpKb9f60Q/2L9tDPWPwbk.jpg"},time:(new Date).toTimeString().substr(0,9),messages:[{id:1,author:{id:1,name:"Yana Pros",avatarLink:"https://sun9-34.userapi.com/3mud1_gH3q-HAdZ7wpn_e5vFP0PqcEpKb9f60Q/2L9tDPWPwbk.jpg"},time:(new Date).toTimeString().substr(0,9),message:"Hello"},{id:2,author:{id:1,name:"Yana Pros",avatarLink:"https://sun9-34.userapi.com/3mud1_gH3q-HAdZ7wpn_e5vFP0PqcEpKb9f60Q/2L9tDPWPwbk.jpg"},time:(new Date).toTimeString().substr(0,9),message:"How are you?"}]},{id:2,isActive:!1,user:{id:2,name:"Ira Pauchok",avatarLink:"https://sun9-15.userapi.com/impf/Nn3nY4xxOxkBHEW9Ao3_alcZAXgumh2lNlsYpQ/SlcMmc77PaA.jpg?size=936x937&quality=96&proxy=1&sign=42731f0c49c5336fe6618ae48eaa903f"},time:(new Date).toTimeString().substr(0,9),messages:[]},{id:3,isActive:!1,user:{id:3,name:"Nikita Brekhov",avatarLink:"https://sun7-8.userapi.com/impf/c851036/v851036735/113073/SOiON4aYvpU.jpg?size=844x891&quality=96&proxy=1&sign=87c777a34cb5afd9de8f56293aa79c6b"},time:(new Date).toTimeString().substr(0,9),messages:[]}]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n=Object(p.a)({},e);n.dialogs=Object(H.a)(e.dialogs);var a=n.dialogs.find((function(e){return e.isActive})),s=a.messages,r={id:s.length?s[s.length-1].id++:1,time:(new Date).toTimeString().substr(0,9),message:t.message,author:t.authorInfo};return a.messages.push(r),n.newMessageText="",n;case B:return e.dialogs.forEach((function(e){e.isActive=e.id===t.dialogId})),Object(p.a)(Object(p.a)({},e),{},{dialogs:Object(H.a)(e.dialogs)});default:return e}},q=n(42),Y=n.n(q),Z=n(145),Q=n(146),X=n(48),K=n(43),V=n(124),J=Object(K.a)(200),$=Object(Q.a)({form:"messageForm"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:Y.a.block_line,children:[Object(a.jsx)(Z.a,{component:V.a,placeholder:"Input your text",rows:1,isresize:!1,name:"message",validate:[J,K.b]}),Object(a.jsx)(Z.a,{name:"file",component:"input",type:"file",id:"post-1",className:Y.a.file,accept:"image/jpeg,image/png,image/gif,image/heic,image/heif,image/webp"}),Object(a.jsx)("label",{htmlFor:"post-1",className:"".concat(Y.a.file_btn),children:Object(a.jsx)(X.a,{width:"25px",height:"25px",className:Y.a.icon,urlId:"add"})}),Object(a.jsx)("button",{className:Y.a.send_button_block,children:Object(a.jsx)(X.a,{width:"25px",height:"25px",className:Y.a.send_button,urlId:"send"})})]})})),ee=Object(x.b)((function(e){var t=e.dialogsPage.dialogs.find((function(e){return e.isActive}));return{dialogName:t.user.name,messages:t.messages.map((function(e){return Object(a.jsx)(D,{avatarLink:e.author.avatarLink,message:e.message,name:e.author.name,time:e.time},e.id)})),loggedUser:e.auth.loggedUser}}),{addMessage:function(e,t){return{type:z,authorInfo:e,message:t}}})((function(e){var t=e.messages,n=e.dialogName,s=e.addMessage,r=e.loggedUser;return Object(a.jsxs)("aside",{className:"".concat(M.a.content," block"),children:[Object(a.jsxs)("div",{className:M.a.header,children:[Object(a.jsx)("h2",{className:M.a.title,children:n}),Object(a.jsx)("div",{className:"underline"})]}),Object(a.jsx)("div",{className:M.a.messages,children:t}),Object(a.jsx)("div",{className:M.a.input__msg,children:Object(a.jsx)($,{onSubmit:function(e){var t=e.message;s(r,t)}})})]})})),te=n(7),ne=n(35),ae=Object(te.d)(ne.a,Object(x.b)((function(e){return{dialogs:e.dialogsPage.dialogs.map((function(e){return Object(a.jsx)(I,{id:e.id,name:e.user.name,time:e.time,lastMsg:0!==e.messages.length?e.messages[e.messages.length-1].message:"nothing",avatarLink:e.user.avatarLink,isActive:e.isActive},e.id)}))}})))((function(e){var t=e.dialogs;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("main",{className:"".concat(A.a.content),children:[Object(a.jsx)("aside",{className:A.a.people,children:t}),Object(a.jsx)(ee,{})]})})})),se=(n(302),Object(te.d)(ne.a)((function(){return Object(a.jsx)("p",{children:"News"})}))),re=n(8),ce=(n(303),n(304),n(22)),ie=n.n(ce),oe=function(e){var t=e.id,n=e.status,s=e.followed,r=e.name,c=e.avatarLink,i=e.follow,o=e.unfollow,u=e.followingProcess;return Object(a.jsxs)("div",{className:"".concat(ie.a.block," block"),children:[Object(a.jsx)(S,{url:c||L.a}),Object(a.jsx)(h.b,{to:"profile/".concat(t),className:ie.a.name,children:r}),Object(a.jsx)("p",{className:ie.a.status,children:n}),Object(a.jsx)(O,{link:"messages/".concat(t),title:"send",className:"".concat(ie.a.btn," ").concat(ie.a.sendBtn),svgClassName:ie.a.svg}),s?Object(a.jsx)("button",{disabled:u.some((function(e){return e===t})),onClick:function(){return o(t)},className:"".concat(ie.a.btn," ").concat(ie.a.addBtn),children:Object(a.jsx)(X.a,{width:"25px",height:"25px",className:ie.a.svgRed,urlId:"close"})}):Object(a.jsx)("button",{disabled:u.some((function(e){return e===t})),onClick:function(){return i(t)},className:"".concat(ie.a.btn," ").concat(ie.a.addBtn),children:Object(a.jsx)(X.a,{width:"25px",height:"25px",className:ie.a.svg,urlId:"add-friend"})})]})},ue=n(110),le=n.n(ue),be=n(111),je=n.n(be),de=function(e){return Object(a.jsx)(h.b,{to:"/profile",className:je.a.container,style:{left:e.left,right:e.right,top:e.top,bottom:e.bottom},children:e.isAuth?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S,{}),Object(a.jsx)("p",{className:je.a.login,children:e.login})]}):Object(a.jsx)("button",{onClick:function(){return e.loginRequest()},className:"btn",children:"Login"})})},pe=n(27),fe=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return this.props.isFetching?Object(a.jsx)(pe.a,{}):Object(a.jsx)(de,Object(p.a)(Object(p.a)({},this.props),{},{loginRequest:this.props.loginRequest,right:this.props.right}))}}]),n}(r.a.Component),ge=Object(x.b)((function(e){return{isAuth:e.auth.isAuth,isFetching:e.auth.isFetching,login:e.auth.login}}))(fe),me=Object(te.d)(Object(x.b)((function(e){return{title:e.navbar.headerTitle}})),re.f)((function(e){var t="/login"===e.location.pathname?"Sign in":e.title;return Object(a.jsxs)("header",{className:le.a.header,children:[Object(a.jsx)("h1",{className:le.a.title,children:t}),Object(a.jsx)(ge,{right:0})]})})),he=me,_e=n(54),Oe=n.n(_e),xe=function(e){var t=e.users.map((function(t){return Object(a.jsx)(oe,{id:t.id,follow:e.follow,unfollow:e.unfollow,followed:t.followed,status:t.status,name:t.name,avatarLink:t.photos.small,followingProcess:e.followingProcess},t.id)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(he,{title:"Users"}),Object(a.jsxs)("main",{className:Oe.a.content,children:[Object(a.jsx)("div",{className:Oe.a.search}),Object(a.jsx)("section",{className:Oe.a.friendList,children:t}),Object(a.jsx)("div",{className:Oe.a.buttonContainer,children:Object(a.jsx)("button",{onClick:function(){return e.onLoadUsers()},className:"btn ".concat(Oe.a.button),children:"Load more"})})]})]})},ve=n(12),ke=n.n(ve),we=n(14),Ne=n(15),ye={all:[],searchText:"",totalCountUsers:0,pageSize:8,page:1,isFetching:!1,followingProcess:[]},Pe="app/users/FOLLOW",Le="app/users/UNFOLLOW",Se="app/users/SET_USERS",Ue="app/users/CHANGE_SEARCH_TEXT",Ee="app/users/SET_TOTAL_COUNT_USERS",Ie="app/users/SET_PAGE",Te="app/users/RESET_USERS",Ae="app/users/TOGGLE_FETCHING",Fe="app/users/TOGGLE_FOLLOWING_PROCESS",Ce=function(e){return{type:Pe,userId:e}},De=function(e){return{type:Le,userId:e}},Re=function(e){return{type:Ae,isFetching:e}},Me=function(e,t){return{type:Fe,isFollowing:e,userId:t}},He=function(){var e=Object(we.a)(ke.a.mark((function e(t,n,a,s){var r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Me(!0,n)),e.next=3,a(n);case 3:r=e.sent,t(Me(!1)),0===r.resultCode&&t(s(n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(p.a)(Object(p.a)({},e),{},{all:e.all.map((function(e){return e.id===t.userId&&(e.followed=!0),e}))});case Le:return Object(p.a)(Object(p.a)({},e),{},{all:e.all.map((function(e){return e.id===t.userId&&(e.followed=!1),e}))});case Se:return Object(p.a)(Object(p.a)({},e),{},{all:[].concat(Object(H.a)(e.all),Object(H.a)(t.usersData))});case Ue:return Object(p.a)(Object(p.a)({},e),{},{searchText:t.text});case Ee:return Object(p.a)(Object(p.a)({},e),{},{totalCountUsers:t.count});case Ie:return Object(p.a)(Object(p.a)({},e),{},{page:t.page});case Te:return Object(p.a)(Object(p.a)({},e),{},{all:[]});case Ae:return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case Fe:return Object(p.a)(Object(p.a)({},e),{},{followingProcess:t.isFollowing?[].concat(Object(H.a)(e.followingProcess),[t.userId]):e.followingProcess.filter((function(e){return e!==t.userId}))});default:return e}},Be=n(45),Ge=Object(Be.a)((function(e){return e.users.all}),(function(e){return e.filter((function(e){return!0}))})),We=Object(Be.a)((function(e){return e.users.pageSize}),(function(e){return e})),qe=Object(Be.a)((function(e){return e.users.totalCountUsers}),(function(e){return e})),Ye=Object(Be.a)((function(e){return e.users.page}),(function(e){return e})),Ze=Object(Be.a)((function(e){return e.users.isFetching}),(function(e){return e})),Qe=Object(Be.a)((function(e){return e.users.followingProcess}),(function(e){return e})),Xe=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onLoadUsers=function(){e.props.getUsers(e.props.page+1,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.page,this.props.pageSize),this.props.setHeaderTitle("Users")}},{key:"componentWillUnmount",value:function(){this.props.setPage(1),this.props.resetUsers()}},{key:"render",value:function(){return this.props.users?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(xe,{follow:this.props.follow,unfollow:this.props.unfollow,users:this.props.users,onLoadUsers:this.onLoadUsers,followingProcess:this.props.followingProcess}),this.props.isFetching?Object(a.jsx)(pe.a,{}):null]}):Object(a.jsx)(pe.a,{})}}]),n}(r.a.Component),Ke=Object(te.d)(ne.a,Object(x.b)((function(e){return{users:Ge(e),pageSize:We(e),totalCountUsers:qe(e),page:Ye(e),isFetching:Ze(e),followingProcess:Qe(e)}}),{follow:function(e){return function(){var t=Object(we.a)(ke.a.mark((function t(n){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",He(n,e,Ne.c.followUser.bind(Ne.c),Ce));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(we.a)(ke.a.mark((function t(n){return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",He(n,e,Ne.c.unfollowUser.bind(Ne.c),De));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setPage:function(e){return{type:Ie,page:e}},resetUsers:function(){return{type:Te}},onSearchChange:function(e){return{type:Ue,text:e}},getUsers:function(e,t){return function(){var n=Object(we.a)(ke.a.mark((function n(a){var s;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Re(!0)),n.next=3,Ne.c.getUsers(e,t);case 3:s=n.sent,a(Re(!1)),a((c=s.items,{type:Se,usersData:c})),a((r=s.totalCount,{type:Ee,count:r}));case 7:case"end":return n.stop()}var r,c}),n)})));return function(e){return n.apply(this,arguments)}}()},setHeaderTitle:k.b}))(Xe),Ve=n(66),Je=n.n(Ve),$e=function(e){var t=e.input,n=e.meta,s=Object(f.a)(e,["input","meta"]),r=n.touched&&n.error;return Object(a.jsxs)(a.Fragment,{children:[r&&Object(a.jsx)("span",{className:"error-text",children:n.error}),Object(a.jsx)("input",Object(p.a)(Object(p.a)(Object(p.a)({},t),s),{},{className:"input ".concat(r?"error":"")}))]})},et=Object(K.a)(50),tt=Object(Q.a)({form:"login"})((function(e){return Object(a.jsxs)("form",{className:"form",onSubmit:e.handleSubmit,children:[Object(a.jsx)("h2",{className:"formTitle",children:"Sign in"}),e.error&&Object(a.jsx)("h3",{className:Je.a.error,children:e.error}),Object(a.jsx)(Z.a,{component:$e,type:"text",name:"login",placeholder:"Login",validate:[et,K.b]}),Object(a.jsx)(Z.a,{component:$e,type:"password",name:"password",placeholder:"Password",validate:[et,K.b]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(Z.a,{className:"checkbox",component:"input",type:"checkbox",name:"isRemember"}),Object(a.jsx)("label",{className:"label",htmlFor:"isRemember",children:"Remember me"})]}),Object(a.jsx)("button",{className:"btn ".concat(Je.a.btn),children:"Login"})]})})),nt=Object(te.d)(Object(x.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:w.b}),re.f)((function(e){return Object(a.jsx)("div",{className:Je.a.container,children:Object(a.jsx)(tt,{onSubmit:function(t){var n=t.isRemember,a=t.login,s=t.password;e.login(a,s,n)}})})})),at=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return this.props.isFetching?Object(a.jsx)(pe.a,{}):(this.props.setHeaderTitle("News"),Object(a.jsx)(re.a,{to:"/news"}))}}]),n}(r.a.Component),st=Object(te.d)(ne.a,Object(x.b)((function(e){return{isFetching:e.auth.isFetching,isAuth:e.auth.isAuth}}),{setHeaderTitle:k.b}))(at),rt=n(61),ct=n(83),it=r.a.lazy((function(){return n.e(5).then(n.bind(null,314))})),ot=r.a.lazy((function(){return n.e(3).then(n.bind(null,313))})),ut=r.a.lazy((function(){return n.e(4).then(n.bind(null,315))})),lt=function(e){Object(l.a)(n,e);var t=Object(b.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N,{}),Object(a.jsx)(me,{}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(re.b,{path:"/login",render:function(){return Object(a.jsx)(nt,{})}}),Object(a.jsx)(re.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(st,{})}}),Object(a.jsx)(re.b,{path:"/profile/:id?",render:Object(ct.a)(ot)}),Object(a.jsx)(re.b,{path:"/messages",render:function(){return Object(a.jsx)(ae,{})}}),Object(a.jsx)(re.b,{path:"/news",render:function(){return Object(a.jsx)(se,{})}}),Object(a.jsx)(re.b,{path:"/users",render:function(){return Object(a.jsx)(Ke,{})}}),Object(a.jsx)(re.b,{path:"/music",render:Object(ct.a)(ut)}),Object(a.jsx)(re.b,{path:"/settings",render:Object(ct.a)(it)})]})]}):Object(a.jsx)(pe.a,{})}}]),n}(r.a.Component),bt=Object(te.d)(re.f,Object(x.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:rt.b}))(lt),jt=n(113),dt=n(151),pt=n(147),ft=Object(te.c)({app:rt.a,profilePage:jt.b,dialogsPage:W,navbar:k.a,users:ze,auth:w.a,form:pt.a}),gt=Object(te.e)(ft,Object(te.a)(dt.a)),mt=document.getElementById("app-wrapper");i.a.render(Object(a.jsx)(x.a,{store:gt,children:Object(a.jsx)(h.a,{children:Object(a.jsx)(bt,{})})}),mt)},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(3),s="app/navbar/SET_HEADER_TITLE",r={headerTitle:"",menuItems:[{title:"My Profile",link:"/profile"},{title:"Messages",link:"/messages"},{title:"News",link:"/news"},{title:"Users",link:"/users"},{title:"Music",link:"/music"},{title:"Settings",link:"/settings"}]},c=function(e){return{type:s,headerTitle:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(a.a)(Object(a.a)({},e),{},{headerTitle:t.headerTitle});default:return e}}},35:function(e,t,n){"use strict";var a=n(3),s=n(0),r=(n(1),n(8)),c=n(11),i=(n(61),function(e){return{isAuth:e.auth.isAuth}});t.a=function(e){return Object(c.b)(i)((function(t){return t.isAuth?Object(s.jsx)(e,Object(a.a)({},t)):Object(s.jsx)(r.a,{to:"/login"})}))}},36:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return m}));var a=n(3),s=n(12),r=n.n(s),c=n(14),i=n(15),o=n(55),u="app/auth/SET_AUTH_USER_INFO",l="app/auth/SET_LOGGED_USER",b="app/auth/TOGGLE_FETCHING",j={userId:null,email:null,login:null,isAuth:!1,isFetching:!1,loggedUser:null},d=function(e,t,n,a){return{type:u,userId:e,email:t,login:n,isAuth:a}},p=function(e){return{type:b,isFetching:e}},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,s,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(p(!0)),e.next=3,i.a.getAuth();case 3:if(n=e.sent,t(p(!1)),0!==n.resultCode){e.next=10;break}return a=n.data,s=a.id,c=a.email,o=a.login,t(d(s,c,o,!0)),e.next=10,i.b.getProfileInfo(s).then((function(e){return t({type:l,user:e})}));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(s){var c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(p(!0)),a.next=3,i.a.login(e,t,n);case 3:c=a.sent,s(p(!1)),0===c.resultCode?s(f()):s(Object(o.b)("login",{_error:c.messages[0]||"Some error!"}));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(p(!0)),e.next=3,i.a.logout();case 3:n=e.sent,t(p(!1)),0===n.resultCode&&t(d(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(a.a)(Object(a.a)({},e),{},{userId:t.userId,email:t.email,login:t.login,isAuth:t.isAuth});case b:return Object(a.a)(Object(a.a)({},e),{},{isFetching:t.isFetching});case l:return Object(a.a)(Object(a.a)({},e),{},{loggedUser:t.user});default:return e}}},42:function(e,t,n){e.exports={content:"Posts_content__PLZjf",posts:"Posts_posts__kd6jW",block:"Posts_block__1moHt",block_line:"Posts_block_line__2M0lw",send_button_block:"Posts_send_button_block__u35FP",btn:"Posts_btn__3BReR",title:"Posts_title__Ud1XC",file:"Posts_file__3VDZw",file_btn:"Posts_file_btn__2iv8w",icon:"Posts_icon__2aFff",send_button:"Posts_send_button__1_Ilw"}},43:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var a=function(e){return e?void 0:"Field is required!"},s=function(e){return function(t){return t&&e<t.length?"Message to large, max is ".concat(e):void 0}}},44:function(e,t,n){e.exports={content:"Dialog_content__Zh7O1",active:"Dialog_active__1hWdk",name:"Dialog_name__1xfGz",msg:"Dialog_msg__VyUgc",time:"Dialog_time__2Zp5k"}},48:function(e,t,n){"use strict";var a=n(0),s=(n(1),n(79)),r=function(e){var t=e.width,n=void 0===t?"25px":t,r=e.height,c=void 0===r?"25px":r,i=e.fillColor,o=void 0===i?"#000000":i,u=e.urlId,l=e.fullUrl,b=e.className;return Object(a.jsx)("svg",{className:b,width:n,height:c,fill:o,children:Object(a.jsx)("use",{xlinkHref:l||"".concat(s.a,"#").concat(u)})})};t.a=r},53:function(e,t,n){e.exports={content:"Messages_content__22bTe",title:"Messages_title__3y_km",header:"Messages_header__1rERA",input__msg:"Messages_input__msg__2PS_E",messages:"Messages_messages__jOcZ0"}},54:function(e,t,n){e.exports={content:"Users_content__3CtQN",friendList:"Users_friendList__1AAby",buttonContainer:"Users_buttonContainer__1VvzQ",search:"Users_search__2j8XN"}},61:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var a=n(3),s=n(12),r=n.n(s),c=n(14),i=n(36),o={initialized:!1},u="bloom/app/INITIALIZED_SUCCESSFUL",l=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t(Object(i.c)())]);case 2:t({type:u});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(a.a)(Object(a.a)({},e),{},{initialized:!0});default:return e}}},66:function(e,t,n){e.exports={container:"Login_container__2XOWg",btn:"Login_btn__2B-yQ",error:"Login_error__2NlTX"}},67:function(e,t,n){e.exports={block:"Navbar_block__2DCT5",logo:"Navbar_logo__3ysvd",icon:"Navbar_icon__3-huf",logo__img:"Navbar_logo__img__gt831",main__nav:"Navbar_main__nav__2WQWF"}},68:function(e,t,n){e.exports={item:"SvgLink_item__2eb3T",icon:"SvgLink_icon__Lqdv7",asideBlock:"SvgLink_asideBlock__1F_cE",exit_icon:"SvgLink_exit_icon__XHNYj",exit:"SvgLink_exit__3M-uc"}},69:function(e,t,n){e.exports={content:"Message_content__1UR5M",time:"Message_time__Vd2F5",name:"Message_name__3isnr",text:"Message_text__zXlVc"}},79:function(e,t,n){"use strict";t.a=n.p+"static/media/icons.79d97f20.svg"},80:function(e,t,n){"use strict";t.a=n.p+"static/media/user.a6143582.png"},83:function(e,t,n){"use strict";var a=n(3),s=n(0),r=n(1),c=n.n(r),i=n(27);t.a=function(e){return function(t){return Object(s.jsx)(c.a.Suspense,{fallback:Object(s.jsx)(i.a,{}),children:Object(s.jsx)(e,Object(a.a)({},t))})}}}},[[305,1,2]]]);
//# sourceMappingURL=main.318f2ab9.chunk.js.map